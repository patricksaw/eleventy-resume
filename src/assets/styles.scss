@tailwind base;
@tailwind components;
@tailwind utilities;

/* Alternating background colors for list items */
li:nth-child(odd) {
  @apply bg-gray-100;
}
li:nth-child(even) {
  @apply bg-gray-50;
}

/* Button styling */
.print-button-section {
  @apply flex justify-center mt-6;

  #printButton {
    @apply px-4 py-2 bg-blue-600 text-white rounded shadow-lg hover:bg-blue-700 transition duration-300;

    /* Hide the button when printing */
    @media print {
      display: none;
    }
  }
}

/* Print pagination control */
.page-break-before {
  page-break-before: always;
}

.page-break-after {
  page-break-after: always;
}

.page-break-inside-avoid {
  page-break-inside: avoid;
}

/* Centered Section Styling */
.centered-section {
  @apply flex justify-center items-center mt-4;
}

/* Centered Text Styling */
.centered {
  @apply italic text-center text-gray-600;
}

/* Base styles */
html {
  font-size: 14pt;
  box-sizing: border-box;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

/* Print styles */
@media print {
  @page {
    margin: 0.25in;
  }

  html {
    font-size: 8pt;
  }

  body {
    margin: 0 !important;
  }

  ul {
    padding-left: 1.25rem !important;

    li {
      padding-left: 0.25rem !important;
    }
  }
}

a {
  color: inherit;
}

.striped {
  background-color: gray;
}

/* Main body styling */
body {
  @apply max-w-screen-lg mx-auto my-2 p-4 font-sans;

  & > header {
    @apply flex flex-wrap p-2;

    & > h1 {
      @apply text-3xl font-bold flex-1;

      & > span {
        @apply text-lg font-light;
      }
    }

    & > address {
      @apply flex-1 self-end text-right not-italic text-sm leading-relaxed ml-auto;

      & > a {
        @apply flex items-center gap-2;

        /* SVG icon styling */
        &.github::before,
        &.linkedin::before,
        &.website::before,
        &[href^="mailto:"]::before {
          content: "";
          @apply inline-block w-4 h-4 bg-contain mr-1;
        }

        /* Set specific icons for each link */
        &.github::before {
          background-image: url('/assets/img/github.svg');
        }

        &.linkedin::before {
          background-image: url('/assets/img/linkedin.svg');
        }

        &.website::before {
          background-image: url('/assets/img/website.svg');
        }

        &[href^="mailto:"]::before {
          background-image: url('/assets/img/email.svg');
        }
      }
    }
  }

  & > main {
    @apply grid gap-y-3;

    /* Wrapper for each section */
    & > .section {
      @apply grid grid-cols-[8rem_1fr] gap-x-4 border-t-2 border-blue-900 pt-3;

      /* Title column for alignment to the left */
      & > .section-title {
        @apply text-lg font-light uppercase;
      }

      /* Content column for each section */
      & > .section-content {
        @apply col-span-1;
      }

      /* Skills section styling */
      &.skills-section .section-content {
        @apply grid grid-cols-2 gap-4;

        & > div {
          @apply flex flex-col;

          & > header {
            @apply font-semibold mb-2 text-lg; /* Bold and slightly larger for section titles */
          }

          & > p {
            @apply text-sm leading-relaxed;

            &:nth-child(odd) {
              @apply bg-gray-100; /* Light gray for odd lines */
            }

            &:nth-child(even) {
              @apply bg-gray-50; /* Slightly lighter gray for even lines */
            }

            @apply px-2 py-1; /* Add padding for readability */
          }
        }
      }

      /* Experience section specific styling */
      &.experience-section .section-content {
        & > section {
          @apply grid gap-2 mb-4 pb-2;

          & > header {
            @apply grid grid-cols-[1fr_auto] items-baseline;

            /* Company Name */
            & > h1 {
              @apply text-xl font-bold;
            }

            /* Position Title */
            & > h2 {
              @apply text-base italic text-gray-700;
            }

            /* Date */
            & > .date {
              @apply text-sm font-light text-right text-gray-600;
            }
          }

          & > ul {
            @apply pl-5 list-disc;

            & > li {
              @apply text-sm leading-snug;
            }
          }
        }

        /* Adjust for mobile portrait view */
        @media screen and (max-width: 768px) {
          & > section {
            @apply grid-cols-1; /* Switch to a single-column layout */

            & > header {
              @apply flex flex-col items-start; /* Stack content vertically and align left */

              /* Company Name */
              & > h1 {
                @apply text-lg font-bold mb-1; /* Bold and slightly smaller for mobile */
              }

              /* Position Title */
              & > h2 {
                @apply text-sm italic text-gray-700 mb-1; /* Smaller and italicized for consistency */
              }

              /* Date */
              & > .date {
                @apply text-sm font-light text-gray-600 mb-2; /* Align dates with the rest */
              }
            }

            & > ul {
              @apply pl-5 list-disc; /* Keep bulleted lists consistent */
              & > li {
                @apply text-sm leading-relaxed mb-1; /* Maintain spacing and readability */
              }
            }
          }
        }
      }

      /* Projects section styling */
      &.projects-section .section-content {
        & > .project-entry {
          @apply mb-6 pb-4 border-b border-gray-300;

          /* Project Header */
          & .project-header {
            @apply flex justify-between items-baseline mb-2;

            & .project-name {
              @apply text-xl font-bold;
            }

            & .project-date {
              @apply text-sm font-light text-gray-600;
            }
          }

          /* Project Description */
          & .project-description {
            @apply text-sm mb-2;
          }

          /* Project Highlights */
          & .project-highlights ul {
            @apply list-disc pl-5;

            & > li {
              @apply text-sm leading-snug mb-1;
            }
          }

          /* Project Link */
          & .project-link {
            @apply mt-2;

            & a {
              @apply text-blue-600 underline;
            }
          }

          /* Project Image */
          & .project-image {
            @apply mt-4;

            img {
              @apply w-full h-auto rounded shadow-lg;
            }
          }
        }
      }
    }
  }
}

/* Responsive adjustments */
@media screen and (max-width: 768px) {
  html {
    font-size: 12pt; /* Reduce font size on smaller screens */
  }

  body {
    @apply max-w-full px-4; /* Ensure full width on mobile */
  }

  /* Adjust header for mobile */
  & > header {
    @apply flex flex-col items-center;

    & > h1 {
      @apply text-center mb-2;
    }

    & > address {
      @apply text-center w-full; /* Center align address */
    }
  }

  main {
    @apply px-4; /* Add padding to content */
  }

  /* Adjust sections for mobile */
  .section {
    @apply grid grid-cols-1 gap-y-4;

    & > .section-title {
      @apply text-center;
    }

    & > .section-content {
      @apply col-span-1; /* Ensure full width content */
    }

    .skills-section .section-content {
      @apply grid grid-cols-1; /* Single column for skills on mobile */
    }

    .skills-section .section-content > div {
      @apply border-t pt-4; /* Add separation between items */
    }

    .skills-section .section-content > div > header {
      @apply text-center; /* Center-align section headers on mobile */
    }

    .skills-section .section-content > div > p {
      @apply text-left; /* Keep content left-aligned */
    }

    .projects-section .project-entry {
      & .project-header {
        @apply flex-col text-center; /* Stack project name and date */
      }

      & .project-highlights ul {
        @apply pl-4; /* Adjust padding for mobile */
      }
    }
  }
}
